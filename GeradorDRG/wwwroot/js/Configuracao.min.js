"use strict";function TipoInternacao(){var n="../Configuracoes/_TipoInternacao/?URLBase="+encodeURIComponent($("#BancoURL").val())+"&banco="+$("#BancoId").val()+"&sistema="+$("#SistemaId").val();$.ajax({type:"GET",url:n,cache:!1,success:function(n){var t=n;$("#div-tipo-internacao").append(t)}})}function MotivoAlta(){var n="../Configuracoes/_MotivoAlta/?URLBase="+encodeURIComponent($("#BancoURL").val())+"&banco="+$("#BancoId").val()+"&sistema="+$("#SistemaId").val();$.ajax({type:"GET",url:n,cache:!1,success:function(n){var t=n;$("#div-motivo-alta").append(t)}})}var $validator=$.validator;$validator.setDefaults({ignore:":hidden:not(.do-not-ignore)"});$validator.addMethod("conexao",function(n){return n!=""},"Conexão Inválida");$(document).ready(function(){$("#rootwizard").bootstrapWizard({tabClass:"nav nav-pills",onNext:function(){var n=$("#form").valid();if(!n)return!1}})});$(document).on("click","#verifica-conexao",function(){var n="../Configuracoes/_VerificaConexao/?URLBase="+encodeURIComponent($("#BancoURL").val())+"&banco="+$("#BancoId").val()+"&sistema="+$("#SistemaId").val();$.ajax({type:"GET",url:n,cache:!1,success:function(n){var t=n;t=="S"&&(MotivoAlta(),TipoInternacao(),$("#conexao").val("S"))},complete:function(){$("#form").valid()}})});$(document).on("click",".add-item",function(n){var t,i;n.preventDefault();t=$(this);t.data("count",t.data("count")+1);i="../Configuracoes/"+t.data("url")+"/"+t.data("count");$.ajax({type:"GET",url:i,cache:!1,success:function(n){var i=n;$(t.data("target")).append(i)}})});$(document).on("click",".remove-item",function(n){n.preventDefault();var t=$(this),i=$(t.data("parent"));i.data("count")=i.data("count")-1;t.parent("div").remove()});$(document).on("change","#SistemaId",function(){var t=$(this).val(),n=$("#BancoId");n.attr("disabled",!0);t!=""&&$.getJSON("/Configuracoes/BuscaBanco/:parentId:".replace(":parentId:",t),function(t){var i='<option value="">Selecione o Banco<\/option>';for(var r in t)i+='<option value="'+t[r].id+'">'+t[r].nome+"<\/option>";n.empty();n.append(i);n.removeAttr("disabled")})});